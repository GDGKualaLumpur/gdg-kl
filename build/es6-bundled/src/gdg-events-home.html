<html><head></head><body><dom-module id="gdg-events-home"><template><style include="shared-styles">:host{display:block;}.container{padding:24px;}.header{height:300px;width:100%;background-color:#3eaaf4;display:flex;justify-content:center;align-items:center;color:white;flex-direction:column;}.header h2{font-weight:400;margin:8px auto;font-size:26px;}.header p{font-weight:300;margin:0 auto;font-size:16px;}.subheader{background:white;box-shadow:0 1px 3px 0 rgba(0, 0, 0, .2), 0 1px 1px 0 rgba(0, 0, 0, .14), 0 2px 1px -1px rgba(0, 0, 0, .12);}.subheader .filter-container{display:flex;flex-wrap:wrap;align-items:center;font-size:14px;}.subheader .search input{width:100%;outline:none;border:1px solid #d0d8dc;height:40px;font-size:14px;padding:0 15px;margin-bottom:16px;box-sizing:border-box;}.subheader .filter p{color:#9fb1c1;margin-top:0;margin-bottom:8px;}.filter-container .chip,
            .events .card .chip{text-transform:capitalize;border-radius:100px;border:1px solid rgba(0, 0, 0, .4);color:rgba(0, 0, 0, .8);margin:2px 6px 4px 0;padding:4px 18px;font-size:14px;text-align:center;cursor:pointer;transition:80ms all linear;user-select:none;-webkit-tap-highlight-color:rgba(255, 255, 255, 0);}.filter-container .chip:hover{border:1px solid rgb(152, 193, 252);background-color:rgb(152, 193, 252);color:white;}.filter-container .chip.true{border:1px solid #4285F4;background-color:#4285F4;color:white;}.loading{width:100%;display:flex;justify-content:center;margin-top:24px;}.events .card .chip{display:inline-block;margin-left:0;margin-top:8px;font-size:13px;padding:1px 18px;}.events{padding-bottom:32px;margin-top:2px;}.events .container h2{color:rgba(0, 0, 0, .4);font-weight:400;font-size:15px;margin-top:36px;max-width:720px;}.events .container .card{display:block;text-decoration:none;cursor:pointer;padding:22px;max-width:720px;background:white;box-shadow:0 1px 3px 0 rgba(0, 0, 0, .2), 0 1px 1px 0 rgba(0, 0, 0, .14), 0 2px 1px -1px rgba(0, 0, 0, .12);}.events .container .card:hover{background:#fafafa;}.events .container .card.error{cursor:default;}.events .container .card h3{color:rgba(0, 0, 0, .95);font-weight:400;margin:0 0 4px 0;}.events .container .card h4{margin:0;font-size:14px;font-weight:400;color:rgba(0, 0, 0, .6);}.events .container .card p{max-width:600px;font-size:14px;color:rgba(0, 0, 0, .8);margin-bottom:0;line-height:24px;}@media screen and (max-width: 960px){.events .container{padding:0px !important;}.subheader .container{padding:16px 24px 8px 24px;}.filter{width:100%;overflow-x:hidden;}.subheader .filter p{margin-bottom:0;}.subheader .filter-container{white-space:nowrap;flex-wrap:nowrap;overflow-x:auto;padding:8px 0;}.subheader .filter-container::-webkit-scrollbar{display:none;}.events{min-height:300px;padding-bottom:0;}.events .container{padding:16px 0 0 0;}.events .container .card{margin:0 auto;-webkit-tap-highlight-color:rgba(0, 0, 0, .05);}.events .container h2{margin-top:24px;padding-left:12px;margin-left:auto;margin-right:auto;}.events .container p{display:none;}.filter-container .chip:hover{border:1px solid rgba(0, 0, 0, .4);color:rgba(0, 0, 0, .8);background-color:#fff;}.filter-container .chip.true{border:1px solid #4285F4;background-color:#4285F4;color:white;}}</style><div class="subheader"><div class="container"><div class="filter"><p>FILTER:</p><div class="filter-container"><template is="dom-repeat" items="{{filterType}}"><div class$="chip {{item.toggle}}" on-tap="toggleFilter" something$="{{item.toggle}}">[[item.name]]</div></template></div></div></div></div><div class="events"><div class="container"><template is="dom-if" if="[[dataLoading]]"><div class="loading"><paper-spinner-lite active=""></paper-spinner-lite></div></template><template is="dom-if" if="[[!dataLoading]]"><template is="dom-if" if="[[upcomingEvents]]"><h2>Upcoming Events</h2><template is="dom-repeat" items="[[upcomingEvents]]"><a href$="/events/[[item.id]]" class="card"><div class="info"><h3>[[item.title]]</h3><h4>[[_parseDateTime(item.start_time)]] · [[item.venue_name]]</h4><div class="chip-container"><div class="chip" id$="[[_snakeCase(item.tag)]]">[[item.tag]]</div></div><p>[[_parseDescription(item.short_description)]]</p></div></a></template></template><template is="dom-if" if="[[pastEvents]]"><h2>Past Events</h2><template is="dom-repeat" items="[[pastEvents]]"><a href$="/events/[[item.id]]" class="card"><div class="info"><h3>[[item.title]]</h3><h4>[[_parseDateTime(item.start_time)]] · [[item.venue_name]]</h4><div class="chip-container"><div class="chip" id$="[[_snakeCase(item.tag)]]">[[item.tag]]</div></div><p>[[_parseDescription(item.short_description)]]</p></div></a></template></template></template></div></div></template><script>class GdgEventsHome extends Polymer.GestureEventListeners(Polymer.Element){static get is(){return'gdg-events-home'}static get properties(){return{dataLoading:{type:Boolean,value:!0},pastEvents:Array,upcomingEvents:Array,filterType:{notify:!0,reflectToAttribute:!0}}}_snakeCase(a){return a.replace(/\s+/g,'_').toLowerCase()}_parseDescription(a){return a}_parseDateTime(a){return new Date(a).toLocaleString('en-us',{hour:'numeric',minute:'numeric',day:'numeric',month:'short',year:'numeric'})}_getParameterByName(a,b){b||(b=window.location.href),a=a.replace(/[\[\]]/g,'\\$&');var c=new RegExp('[?&]'+a+'(=([^&#]*)|&|#|$)'),d=c.exec(b);return d?d[2]?decodeURIComponent(d[2].replace(/\+/g,' ')):'':null}toggleFilter(a){if(this.set('filterType.'+a.model.index+'.toggle',!a.model.item.toggle),this.filterType.forEach((b,c)=>{c!=a.model.index&&this.set('filterType.'+c+'.toggle',!1)}),a.model.item.toggle)var b=window.location.protocol+'//'+window.location.host+window.location.pathname+'?type='+a.model.item.name.replace(/ /g,'_').toUpperCase();else var b=window.location.protocol+'//'+window.location.host+window.location.pathname;window.history.pushState({path:b},'',b),this.getEventData()}getEventData(){var a=new Date,b=!0;if(this._getParameterByName('type')){b=this._getParameterByName('type').replace(/_/g,' ').toLowerCase();var c=this.db.collection('events').where('start_time','>=',a).where('tag','==',b).where('visibility','==','public'),d=this.db.collection('events').where('start_time','<',a).where('tag','==',b).where('visibility','==','public').orderBy('start_time','desc')}else var c=this.db.collection('events').where('start_time','>=',a).where('visibility','==','public'),d=this.db.collection('events').where('start_time','<',a).where('visibility','==','public').orderBy('start_time','desc');c.get().then((a)=>{this.set('upcomingEvents',[]),a.forEach((a)=>{this.push('upcomingEvents',a.data())}),this.checkData('upcoming'),0>=this.upcomingEvents.length&&this.set('upcomingEvents',null)}),d.get().then((a)=>{this.set('pastEvents',[]),a.forEach((a)=>{this.push('pastEvents',a.data())}),this.checkData('past'),0>=this.pastEvents.length&&this.set('pastEvents',null)})}checkData(){this.get('pastEvents')!==void 0&&this.get('upcomingEvents')!==void 0&&!0==this.get('dataLoading')&&this.set('dataLoading',!1)}loadData(){this.set('filterType',[{name:'codelabs',toggle:!1},{name:'conference',toggle:!1},{name:'live viewing party',toggle:!1},{name:'meetup',toggle:!1},{name:'study jam',toggle:!1},{name:'workshop',toggle:!1}]),this.db=firebase.firestore(),this._getParameterByName('type')&&this.filterType.forEach((a)=>{a.name==this._getParameterByName('type').replace(/_/g,' ').toLowerCase()&&(a.toggle=!0)}),this.getEventData()}}window.customElements.define(GdgEventsHome.is,GdgEventsHome);</script></dom-module></body></html>