<html><head><meta charset="UTF-8"><link rel="import" href="gdg-app.html"></head><body><dom-module id="gdg-blog">
    <template>
        <style>:host{display:block;}section{padding:40px 80px 80px 80px;}.header{background:var(--app-header-color);color:white;}.header .container{max-width:900px;margin:0 auto;}.blog{background:white;}.blog{background:#fafafa;}.blog .content{max-width:800px;margin:0 auto;}.markdown-html p{line-height:2em;font-weight:300;}.markdown-html{line-height:2em;font-weight:300;}.markdown-html pre{padding:.5em;overflow-x:auto;background:white;font-weight:400;}.article{margin:0 auto;max-width:800px;margin-bottom:60px;}.article a{color:#00838F;font-weight:400;font-size:24px;text-decoration:none;}.article .detail{margin-top:16px;display:block;}.article .detail img{height:25px;vertical-align:middle;}.article .detail p{display:inline;font-size:16px;font-weight:300;}.article .detail .publisher{color:#006064;font-weight:400;}@media screen and (max-width:840px){section{padding:40px 24px;}.article a{font-size:20px;}.markdown-html img{width:95%;height:auto;}}</style>
        <iron-ajax id="ajax" auto="" handle-as="json" on-response="ajaxResponse"></iron-ajax>
        <template is="dom-if" if="{{!showPost}}">
            <section class="header">
                <div class="container">
                    <h2>Blog</h2>
                    <p>Official blog of Google Developer Group (GDG) Kuala Lumpur</p>
                </div>
            </section>
            <section class="blog">
                <template is="dom-repeat" items="{{list}}" id="list">
                    <div class="article">
                        <a href="/blog/[[dashcase(item.title)]]">[[item.title]]</a>
                        <div class="detail">
                            <img src="/images/gdg.png">
                            <p class="publisher">GDG Kuala Lumpur , </p>
                            <p> [[timestamp(item.published)]]</p>
                        </div>
                    </div>
                </template>
            </section>
        </template>
        <template is="dom-if" if="{{showPost}}">
            <section class="header">
                <div class="container">
                    <h2>[[post.title]]</h2>
                    <p>[[timestamp(post.published, post.author.displayName)]]</p>
                </div>
            </section>
            <section class="blog">
                <div class="content">
                    <marked-element markdown="[[post.content]]">
                        <div class="markdown-html"></div>
                    </marked-element>
                </div>
            </section>
        </template>
    </template>
    <script>Polymer({is:"gdg-blog",properties:{showPost:{type:Boolean},postid:{type:String,notify:!0,observer:"_postIdChanged"},list:{type:Array,notify:!0},nextPageToken:{type:String},apiKey:{type:String,value:"AIzaSyDvmMxa5XU5VomJIE0Au-lgYt6QQuZ3Mwc"}},_postIdChanged:function(){this.post=[],this.postid?(this.$.ajax.url="https://www.googleapis.com/blogger/v3/blogs/3213900/posts/search",this.$.ajax.params={key:this.apiKey,q:this.postid},this.showPost=!0):(this.list=[],this.$.ajax.url="https://www.googleapis.com/blogger/v2/blogs/3213900/posts",this.$.ajax.params={key:this.apiKey},this.showPost=!1)},ready:function(){this._postIdChanged()},dashcase:function(t){return t.replace(/\s+/g,"-").toLowerCase()},timestamp:function(t,e){if(t){MyDate=new Date(t);var s=["January","February","March","April","May","June","July","August","September","October","November","December"];return this.postid?"Posted "+("0"+MyDate.getDate()).slice(-2)+" "+s[MyDate.getMonth()]+" "+MyDate.getFullYear()+"  by "+e:("0"+MyDate.getDate()).slice(-2)+" "+s[MyDate.getMonth()]+" "+MyDate.getFullYear()}},ajaxResponse:function(t){var e=t.detail.response;if(this.postid)void 0!=e.items&&(console.log(e.items[0].author.displayName),this.post=e.items[0],document.title=e.items[0].title.charAt(0).toUpperCase()+e.items[0].title.slice(1)+" - GDGKL");else{if(this.list&&this.nextPageToken)for(var s=0;s<e.items.length;s++)this.push("list",e.items[s]);else this.list=e.items;e.nextPageToken&&(this.nextPageToken=e.nextPageToken)}},nextpage:function(){this.$.ajax.params={key:"AIzaSyDvmMxa5XU5VomJIE0Au-lgYt6QQuZ3Mwc",pageToken:this.nextPageToken}}});</script>
</dom-module>
</body></html>